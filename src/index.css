/* ───────── Base ───────── */
html,body,#root{ height:100%; }
body{
  margin:0;
  overflow:hidden;
  font-family:-apple-system,BlinkMacSystemFont,'Segoe UI','Roboto','Oxygen','Ubuntu','Cantarell','Fira Sans','Droid Sans','Helvetica Neue',sans-serif;
  -webkit-font-smoothing:antialiased;
  -moz-osx-font-smoothing:grayscale;
}
code{ font-family:source-code-pro,Menlo,Monaco,Consolas,'Courier New',monospace; }

/* ───────── Perfil ───────── */
.profile-wrapper{ display:flex; flex-direction:column; min-height:100vh; background:#812f7f; color:#fff; }
.profile-header{ display:flex; justify-content:space-between; align-items:center; padding:1.2rem 1.8rem; }
.profile-card{ margin:3rem auto; padding:2rem 3rem; border:3px solid #000; border-radius:8px; width:min(90%,400px); background:#fff; color:#000; }
.profile-card p{ margin:1rem 0; font-size:1.25rem; }
.profile-footer{ margin-top:auto; display:flex; justify-content:center; gap:2rem; padding-bottom:3rem; }
.logout-btn,.delete-btn,.back-btn{ padding:.6rem 1.4rem; border:none; cursor:pointer; font-size:1rem; }
.logout-btn{ background:#888; color:#fff; }
.delete-btn{ background:#c55757; color:#fff; }
.back-btn{ background:#d5975d; color:#fff; }
.delete-btn:disabled{ opacity:.45; cursor:not-allowed; filter:saturate(.7); }

/* ───────── Modal genérico ───────── */
.modal-overlay{ position:fixed; inset:0; background:rgba(0,0,0,.6); display:flex; align-items:center; justify-content:center; z-index:999; }
.modal{
  position:relative; background:#fff; color:#000; padding:2rem 2.5rem;
  border-radius:8px; max-width:500px; width:90%; text-align:left;
}
.modal h2{ margin:0 0 1rem 0; }
.modal label{ display:block; margin-bottom:1rem; }
.modal input[type="text"],
.modal input[type="number"],
.modal input[type="date"],
.modal select,
.modal textarea{
  width:100%; padding:.5rem; margin-top:.25rem; font-size:1rem;
  border:1px solid #ccc; border-radius:4px; box-sizing:border-box;
}
.modal textarea{ resize:vertical; max-width:100%; }
.modal-actions{ display:flex; gap:1.5rem; justify-content:center; margin-top:1.5rem; }
.modal-close{ position:absolute; top:10px; right:12px; border:none; background:transparent; font-size:1.5rem; line-height:1; cursor:pointer; opacity:.6; }
.modal-close:hover{ opacity:1; }

/* Links aspecto enlace (Login) */
.linklike{ background:none; border:none; padding:0; font:inherit; text-decoration:underline; cursor:pointer; color:#1a73e8; }
.linklike:focus-visible{ outline:2px solid #1a73e8; outline-offset:2px; }

/* FABs legales en Profile */
.legal-fabs{ position:fixed; right:16px; bottom:16px; display:flex; flex-direction:column; gap:8px; z-index:998; }
.legal-fab{ padding:.5rem .9rem; border-radius:999px; border:1px solid #ccc; background:#fff; color:#333; cursor:pointer; box-shadow:0 2px 6px rgba(0,0,0,.15); font-size:.9rem; }
.legal-fab:hover{ background:#f7f7f7; }

/* Pie legal en Login */
.login-legal{ margin-top:auto; padding:1rem 0 2rem; font-size:.85rem; color:#666; text-align:center; }

/* ───────── Dashboard (layout) ───────── */
.dashboard-wrapper{ height:100%; min-height:100vh; display:flex; flex-direction:column; gap:1rem; padding-top:.5rem; padding-bottom:1rem; }

/* Header como GRID para centrar el botón */
.dashboard-header{
  flex:0 0 auto;
  display:grid;
  grid-template-columns: 1fr auto 1fr;  /* izq | centro | dcha */
  align-items:center;
  padding-block:.30rem;
}
.dashboard-title{ font-size:2rem; font-weight:700; margin:.20rem 0 .20rem 28px; line-height:1.1; }
.dashboard-header-center{ justify-self:center; }    /* ← botón centrado */
.dashboard-header-right{ display:flex; gap:1rem; align-items:center; margin-right:28px; justify-self:end; }

.create-goal-btn{
  display:flex; gap:.5rem; align-items:center;
  padding:.55rem 1rem; border-radius:999px; border:none; font-weight:600;
  background:#1a73e8; color:#fff; box-shadow:0 2px 8px rgba(26,115,232,.20);
  transition:transform .04s ease, box-shadow .15s ease, background-color .15s ease;
}
.create-goal-btn:hover{ background:#1669c1; box-shadow:0 4px 12px rgba(26,115,232,.28); }
.create-goal-btn:active{ transform:translateY(1px); }
.create-goal-btn:focus-visible{ outline:2px solid #1a73e8; outline-offset:2px; }

.icon{ width:1.2rem; height:1.2rem; }
.avatar-btn{ width:40px; height:40px; border:1px solid #ccc; border-radius:50%; overflow:hidden; padding:0; }
.avatar-img{ width:100%; height:100%; object-fit:cover; }

/* Tablero 70/30 */
.board{ flex:1 1 auto; min-height:0; display:grid; grid-template-columns:7fr 5fr; gap:1.25rem; margin-top:.25rem; padding-bottom:.5rem; box-sizing:border-box; }
.left-pane{ display:grid; grid-template-rows:minmax(0,49%) minmax(0,51%); min-height:0; }
.right-pane{ display:flex; flex-direction:column; gap:1rem; min-height:0; }

/* Cards */
.card{ background:#fff; border-radius:12px; padding:1rem 1.25rem; box-shadow:0 2px 10px rgba(0,0,0,.04); }

/* Lista de metas */
.goals-scroll{ overflow:auto; min-height:0; }
.goals-table{ width:100%; border-collapse:collapse; font-size:.95rem; }
.goals-table-wrapper{ overflow:visible; }
.goals-table th,.goal-cell{ text-align:left; padding:.5rem; border-bottom:1px solid #ccc; }
.goal-row{ cursor:pointer; transition:background-color .2s ease-in-out; }
.goal-row:hover{ background:#f4f4f4; }
.goal-row-finalizada{ background:#dcdcdc; }
.goal-cell{ padding:.5rem; border-bottom:1px solid #ccc; }

/* Detalle (registros + descripción) */
.goal-detail{ overflow:hidden; min-height:0; display:flex; gap:2rem; margin-top:1.5rem; }
.goal-registros,.goal-descripcion{ flex:1; }

/* Placeholders */
.registros-placeholder,.graph-placeholder{
  background:#f2f2f2; height:160px; border-radius:6px;
  display:flex; justify-content:center; align-items:center; color:#666; font-size:.9rem;
}

/* Stats derecha */
.user-stats{ flex:0 0 auto; background:#f8f8f8; border-radius:10px; }
.stats-content{ display:grid; grid-template-columns:repeat(2,1fr); text-align:center; gap:1rem; }
.stats-content p{ color:#666; margin:0; }
.stats-content strong{ font-size:1.25rem; }
.placeholder{ flex:1 1 auto; display:flex; align-items:center; justify-content:center; }
.placeholder-inner{ color:#777; }

/* Utilidades formularios */
.fecha-wrapper{ position:relative; display:flex; align-items:center; }
.calendar-icon{ position:absolute; left:.5rem; width:1rem; height:1rem; color:#777; }
.fecha-input{ padding-left:2rem; }
.short{ width:80px; }
.medium{ width:130px; }
.dashboard-loading{ padding:1.5rem; font-size:1.1rem; }
.field-group{ display:flex; align-items:center; gap:8px; }
.inline-check{ margin-left:8px; display:flex; align-items:center; gap:6px; white-space:nowrap; }
.group-disabled{ opacity:.5; }
.field-group input:disabled,.field-group select:disabled{ background:#f7f7f7; cursor:not-allowed; }

/* Cabeceras sticky */
.goals-scroll .goals-table thead th{
  position:sticky; top:0; background:#fff; z-index:2; box-shadow:0 1px 0 rgba(0,0,0,.08);
}
.goal-registros table{ width:100%; border-collapse:collapse; }
.goal-registros table thead th{
  position:sticky; top:0; background:#fff; z-index:2; box-shadow:0 1px 0 rgba(0,0,0,.08);
}

/* Registros: sin scroll exterior (scroll va en el wrapper interno inline) */
.goal-registros{ overflow:visible !important; max-height:none !important; }

/* Ordenación tabla metas */
.sortable-th{ cursor:pointer; user-select:none; white-space:nowrap; }
.sortable-th .sort-icons{ margin-left:6px; font-size:.85em; color:#777; }
.sortable-th.active .sort-icons{ color:#333; }

/* ====== Insights (derecha) ====== */
.insight-container{ width:100%; }
.insight-empty{ color:#777; text-align:center; }
.insight-block{ width:100%; }
.insight-title{ font-weight:600; margin-bottom:.5rem; display:flex; align-items:baseline; gap:.5rem; }
.insight-title .muted{ color:#777; font-weight:400; }
.insight-title.bump-up{ margin-top:-8px; }

.insight-svg{ width:100%; height:auto; display:block; }
.insight-svg.bump-up{ margin-top:-6px; }
.tick{ fill:#666; font-size:.8rem; }
.legend{ fill:#4a4a4a; font-size:.8rem; }

.insight-target-line{ stroke:#7a9cff; }
.insight-hover-line{ stroke:#90caf9; stroke-width:1.5; stroke-dasharray:4 4; }
.insight-hover-dot{ fill:#2e7d32; stroke:#fff; stroke-width:2; }
.insight-tooltip text{ font-size:.82rem; fill:#222; }
.insight-tooltip-bg{ fill:#fff; stroke:#cfd8dc; }

/* Calendario booleano */
.calendar-legend{ display:flex; gap:12px; align-items:center; color:#666; font-size:.9rem; margin-bottom:.5rem; }
.calendar-legend .dot{ width:10px; height:10px; border-radius:2px; display:inline-block; margin-right:4px; background:#d0d0d0; }
.calendar-legend .dot.ok{ background:#2e7d32; }
.calendar-legend .dot.ko{ background:#c62828; }
.calendar-legend .dot.none{ background:#d0d0d0; }
.calendar-grid{ display:grid; grid-template-columns:repeat(7,minmax(0,1fr)); gap:6px; }
.cal-head{ text-align:center; font-weight:600; color:#666; font-size:.85rem; margin-bottom:2px; }
.cal-pad{ height:32px; }
.cal-day{ height:32px; border-radius:6px; display:flex; align-items:center; justify-content:center; font-size:.85rem; color:#222; background:#eee; }
.cal-day.ok{ background:#c8e6c9; }
.cal-day.ko{ background:#ffcdd2; }
.cal-day.none{ background:#eee; color:#888; }
.calendar-nav{ margin-top:10px; display:flex; justify-content:center; gap:12px; }
.cal-nav-btn{ padding:.25rem .75rem; border:1px solid #ccc; background:#fff; border-radius:6px; font-size:1.05rem; line-height:1; cursor:pointer; }
.cal-nav-btn:hover{ background:#f6f6f6; }
.cal-nav-btn:disabled{ opacity:.45; cursor:not-allowed; }

/* ====== Barra de filtros compacta (gráfico numérico) ====== */
.filterbar{ margin-top:.5rem; display:grid; grid-template-columns:220px 1fr; gap:1rem; align-items:start; }
.filter-chooser-title{ font-weight:700; margin-bottom:.25rem; }
.radio-line{ display:flex; align-items:center; gap:.5rem; padding:.15rem 0; }
.radio-line input{ transform:translateY(1px); }
.filter-controls{ min-height:60px; display:flex; flex-direction:column; gap:.25rem; }

.filter-row{ display:flex; flex-wrap:wrap; align-items:center; gap:.6rem; }
.filter-input,.filter-select{ padding:.45rem .55rem; border:1px solid #ccc; border-radius:6px; font-size:.95rem; }
.filter-input.short,.filter-select.short{ width:100px; }
.filter-select.medium{ width:140px; }
.filter-sep{ opacity:.6; }
.filter-clear{ padding:.4rem .7rem; border:1px solid #ccc; background:#fff; border-radius:6px; cursor:pointer; }
.filter-hint{ color:#777; font-size:.82rem; }

/* ====== Botones de acciones (tabla/listas) ====== */
.btn{
  padding:.35rem .7rem; border-radius:8px; border:1px solid transparent;
  font-weight:600; font-size:.9rem; cursor:pointer;
  transition:transform .04s ease, box-shadow .15s ease, background-color .15s ease;
}
.btn--sm{ padding:.32rem .6rem; font-size:.86rem; }
.btn--xs{ padding:.25rem .5rem; font-size:.8rem; }
.btn--primary{ background:#1a73e8; color:#fff; box-shadow:0 1px 6px rgba(26,115,232,.18); }
.btn--primary:hover{ background:#1669c1; }
.btn--warn{ background:#f9a825; color:#222; }
.btn--warn:hover{ background:#f39c12; }
.btn--muted{ background:#e0e0e0; color:#222; }
.btn--muted:hover{ background:#d6d6d6; }
.btn--danger{ background:#e74c3c; color:#fff; }
.btn--danger:hover{ background:#cf4436; }

/* --- Toast felicitación primer registro (abajo-derecha) --- */
.toast{
  position: fixed;
  right: 16px;
  bottom: 16px;
  background:#fff;
  border:1px solid #e0e0e0;
  border-left:4px solid #2e7d32;   /* verde suave de éxito */
  border-radius:10px;
  box-shadow:0 10px 24px rgba(0,0,0,.12);
  display:flex;
  align-items:flex-start;
  gap:.75rem;
  padding:.75rem .9rem;
  max-width:min(92vw, 360px);
  opacity:0;
  transform: translateY(8px);
  transition: opacity .18s ease, transform .18s ease;
  z-index: 998; /* por debajo de tus modales (999) */
}
.toast.show{ opacity:1; transform:none; }
.toast-icon{ font-size:1.35rem; line-height:1; }
.toast-body{ display:flex; flex-direction:column; gap:.2rem; }
.toast-title{ font-weight:700; }
.toast-text{ color:#444; }
.toast-close{
  margin-left:auto;
  border:none; background:transparent; cursor:pointer;
  font-size:1.15rem; line-height:1; opacity:.6;
}
.toast-close:hover{ opacity:1; }

/* Desactivar el gris por meta finalizada */
.goal-row-finalizada { background: transparent !important; }

/* PINTAR solo la fila seleccionada (no por hover) */
.goal-row.selected { background: #dcdcdc; }
.goal-row.selected:hover { background: #dcdcdc; }

/* Evitar que el hover ponga gris cuando NO está seleccionada */
.goals-table .goal-row:not(.selected):hover { background: transparent; }

/* Botón sin borde ni recorte */
.avatar-btn{
  padding: 0;
  border: none;
  background: transparent;
  display: flex;
  align-items: center;
  justify-content: center;
}

/* Foto real (Google): redonda */
.avatar-img{
  width: 40px;
  height: 40px;
  border-radius: 50%;
  object-fit: cover;
  display: block;
}

/* Icono por defecto (email+password): solo el SVG, sin círculo */
.avatar-icon{
  width: 32px;   /* ajusta si lo quieres más grande/pequeño */
  height: 32px;
  display: block;
  border-radius: 0;      /* por si hereda algo */
  object-fit: contain;   /* evita recortes */
}
/* Asegura que el contenedor del avatar sea el ancla del toast */
.dashboard-header-right {
  position: relative; /* <- nuevo: permite posicionar el toast justo debajo */
}

/* TOAST arriba-derecha: evita que se estire por tener top y bottom a la vez */
.toast {
  position: fixed;
  right: 28px;
  top: 72px;            /* altura bajo el header, ajusta si quieres */
  bottom: auto !important;  /* ← clave: anula cualquier bottom heredado */
  max-width: min(92vw, 360px);

  background: #fff;
  border: 1px solid #e0e0e0;
  border-left: 4px solid #2e7d32;
  border-radius: 10px;
  box-shadow: 0 10px 24px rgba(0,0,0,.12);
  display: flex;
  align-items: flex-start;
  gap: .75rem;
  padding: .75rem .9rem;
  z-index: 998;

  opacity: 0;
  transform: translateY(-6px);
  transition: opacity .18s ease, transform .18s ease;
}
.toast.show { opacity: 1; transform: none; }
.toast-icon{ font-size:1.35rem; line-height:1; }
.toast-body{ display:flex; flex-direction:column; gap:.2rem; }
.toast-title{ font-weight:700; }
.toast-text{ color:#444; }
.toast-close{
  margin-left:auto; border:none; background:transparent; cursor:pointer;
  font-size:1.15rem; line-height:1; opacity:.6;
}
.toast-close:hover{ opacity:1; }
